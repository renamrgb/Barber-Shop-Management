"use strict";(self["webpackChunkbsm"]=self["webpackChunkbsm"]||[]).push([[569],{5925:(t,e,r)=>{r.d(e,{Z:()=>a});var s=r(1505);class a{url="/productProcedureTypes";async consultarTodos(){try{const t=await s.Z.get(this.url);return t.data}catch(t){return t}}async getAllPaged(t){try{const e=await s.Z.get(`${this.url}/paged?page=${t}`);return e.data}catch(e){return e}}async cadastrar(t){try{const e=await s.Z.post(this.url,t);return e}catch(e){return e}}async excluir(t){try{const e=await s.Z["delete"](`${this.url}/${t}`);return e}catch(e){return e}}async alterar(t,e){try{const r=await s.Z.put(`${this.url}/${t}`,e);return r}catch(r){return r}}async buscarUm(t){try{const e=await s.Z.get(`${this.url}/${t}`);return e.data}catch(e){return e}}async getByDescription(t){try{const e=await s.Z.get(`${this.url}?description=${t}`);return e.data}catch(e){return e}}async getByDescriptionPaged(t,e){try{const r=await s.Z.get(`${this.url}/paged?description=${t}&page=${e}`);return r.data}catch(r){return r}}}},2569:(t,e,r)=>{r.r(e),r.d(e,{default:()=>y});var s=r(3396),a=r(7139);const i=(0,s._)("strong",null,"Tipos de produto/procedimento",-1),o={class:"mb-3"},n={key:0,class:"invalid-input-form"},c={class:"mb-3"},d=(0,s._)("br",null,null,-1),l={class:"d-grid gap-2 d-md-flex justify-content-md-end"},u=(0,s._)("a",{href:"/#/forms/tipoProdutoProcedimento",class:"btn btn-danger"},"Cancelar",-1);function m(t,e,r,m,h,p){const f=(0,s.up)("CCardHeader"),v=(0,s.up)("CFormLabel"),w=(0,s.up)("CFormInput"),g=(0,s.up)("CFormSwitch"),$=(0,s.up)("CButton"),y=(0,s.up)("CForm"),C=(0,s.up)("CCardBody"),b=(0,s.up)("CCard"),_=(0,s.up)("CCol"),Z=(0,s.up)("CRow"),k=(0,s.up)("toast");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(Z,null,{default:(0,s.w5)((()=>[(0,s.Wm)(_,{xs:12},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[i])),_:1}),(0,s.Wm)(C,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"row needs-validation"},{default:(0,s.w5)((()=>[(0,s._)("div",o,[(0,s.Wm)(v,{for:"description"},{default:(0,s.w5)((()=>[(0,s.Uk)("* Descrição")])),_:1}),(0,s.Wm)(w,{name:"description",type:"text",modelValue:h.form.description,"onUpdate:modelValue":e[0]||(e[0]=t=>h.form.description=t),modelModifiers:{lazy:!0},required:""},null,8,["modelValue"]),h.v$.form.description.$errors.length>0?((0,s.wg)(),(0,s.iD)("div",n,(0,a.zw)(h.v$.form.description.$errors[0].$message),1)):(0,s.kq)("",!0)]),(0,s._)("div",c,[d,(0,s.Wm)(g,{id:"formSwitchCheckDefault",label:"Ativo",modelValue:h.form.isActive,"onUpdate:modelValue":e[1]||(e[1]=t=>h.form.isActive=t)},null,8,["modelValue"])]),(0,s._)("div",l,[(0,s.Wm)($,{color:"primary",class:"me-md-2",onClick:p.submitForm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirmar")])),_:1},8,["onClick"]),u])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(k,{ref:"toast"},null,512)],64)}var h=r(5925),p=r(5066),f=r(3053),v=r(7829);const w={components:{Toast:p.Z},data(){return{v$:(0,f.Xw)(),validationsMessage:new v.Z,id:this.$route.params.id,service:new h.Z,visibleLiveDemo:!1,validatedCustom:null,form:{description:"",isActive:!1}}},validations(){return{form:{description:{required:this.validationsMessage.requiredMessage,maxLength:this.validationsMessage.maxLengthMenssage(60)}}}},methods:{submitForm(){this.v$.$validate(),this.v$.$error||this.salvar()},async salvar(){let t,e={description:this.form.description,isActive:this.form.isActive};if(t=void 0==this.id?await this.service.cadastrar(e):await this.service.alterar(this.id,e),201==t.status)this.$refs.toast.createToast("Cadastrado com sucesso!"),this.$router.push("/forms/tipoProdutoProcedimento");else if(200==t.status)this.$refs.toast.createToast("Alterado com sucesso!");else if(500==t.status)this.$refs.toast.createToast(t.error);else{let e=t.response.data.fieldErrors;e.forEach((t=>{this.$refs.toast.createToast(`${t.message} `)}))}},async consultarUm(){void 0!=this.id&&(this.form=await this.service.buscarUm(this.id))}},mounted(){void 0!=this.id&&this.consultarUm()}};var g=r(89);const $=(0,g.Z)(w,[["render",m]]),y=$}}]);
//# sourceMappingURL=569.05c89373.js.map