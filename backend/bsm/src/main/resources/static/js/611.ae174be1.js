"use strict";(self["webpackChunkbsm"]=self["webpackChunkbsm"]||[]).push([[611],{8312:(t,e,s)=>{s.d(e,{Z:()=>r});var a=s(1505);class r{url="/expenseTypes";async consultarTodos(){try{const t=await a.Z.get(this.url);return t.data}catch(t){return t}}async getAllPaged(t){try{const e=await a.Z.get(`${this.url}/paged?page=${t}`);return e.data}catch(e){return e}}async getByDescription(t){try{const e=await a.Z.get(`${this.url}?description=${t}`);return e.data}catch(e){return e}}async getByDescriptionPaged(t,e){try{const s=await a.Z.get(`${this.url}/paged?description=${t}&page=${e}`);return s.data}catch(s){return s}}async cadastrar(t){try{const e=await a.Z.post(this.url,t);return e}catch(e){return e}}async excluir(t){try{const e=await a.Z["delete"](`${this.url}/${t}`);return e}catch(e){return e}}async alterar(t,e){try{const s=await a.Z.put(`${this.url}/${t}`,e);return s}catch(s){return s}}async buscarUm(t){try{const e=await a.Z.get(`${this.url}/${t}`);return e.data}catch(e){return e}}}},611:(t,e,s)=>{s.r(e),s.d(e,{default:()=>$});var a=s(3396),r=s(7139);const i=(0,a._)("strong",null,"Tipos de Despesas",-1),l={key:0,class:"invalid-input-form"},o=(0,a._)("br",null,null,-1),n=(0,a._)("br",null,null,-1),u={class:"d-grid gap-2 d-md-flex justify-content-md-end"},d=(0,a._)("a",{class:"btn btn-danger",href:"/#/forms/tipoDespesas"},"Cancelar",-1);function c(t,e,s,c,m,p){const h=(0,a.up)("CCardHeader"),f=(0,a.up)("CFormLabel"),v=(0,a.up)("CFormInput"),g=(0,a.up)("CFormSwitch"),w=(0,a.up)("CButton"),$=(0,a.up)("CForm"),y=(0,a.up)("CCardBody"),C=(0,a.up)("CCard"),b=(0,a.up)("CCol"),_=(0,a.up)("CRow"),Z=(0,a.up)("toast");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b,{xs:12},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{class:"mb-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[i])),_:1}),(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[(0,a.Wm)($,null,{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(f,{for:"description"},{default:(0,a.w5)((()=>[(0,a.Uk)("Descrição")])),_:1}),(0,a.Wm)(v,{name:"description",type:"text",modelValue:m.form.description,"onUpdate:modelValue":e[0]||(e[0]=t=>m.form.description=t),modelModifiers:{lazy:!0},required:""},null,8,["modelValue"]),m.v$.form.description.$errors.length>0?((0,a.wg)(),(0,a.iD)("div",l,(0,r.zw)(m.v$.form.description.$errors[0].$message),1)):(0,a.kq)("",!0)]),(0,a._)("div",null,[o,(0,a.Wm)(g,{id:"formSwitchCheckDefault",label:"Esse tipo gera parcelas?",modelValue:m.form.generateInstallments,"onUpdate:modelValue":e[1]||(e[1]=t=>m.form.generateInstallments=t)},null,8,["modelValue"])]),(0,a._)("div",null,[n,(0,a.Wm)(g,{id:"formSwitchCheckDefault",label:"Ativo",modelValue:m.form.isActive,"onUpdate:modelValue":e[2]||(e[2]=t=>m.form.isActive=t)},null,8,["modelValue"])]),(0,a._)("div",u,[(0,a.Wm)(w,{color:"primary",class:"me-md-2",onClick:p.submitForm},{default:(0,a.w5)((()=>[(0,a.Uk)("Confirmar")])),_:1},8,["onClick"]),d])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(Z,{ref:"toast"},null,512)],64)}var m=s(3053),p=s(7829),h=s(8312),f=s(5066);const v={components:{Toast:f.Z},name:"Tipo de Despesa",data(){return{v$:(0,m.Xw)(),validationsMessage:new p.Z,id:this.$route.params.id,service:new h.Z,visibleLiveDemo:!1,validatedCustom:null,form:{description:"",generateInstallments:!1,isActive:!1}}},validations(){return{form:{description:{required:this.validationsMessage.requiredMessage,maxLength:this.validationsMessage.maxLengthMenssage(60)}}}},methods:{submitForm(t){this.v$.$validate(),this.v$.$error||this.salvar()},async salvar(t){let e;if(void 0==this.id?e=await this.service.cadastrar(this.form):(console.log(this.form),e=await this.service.alterar(this.id,this.form)),201==e.status)this.$refs.toast.createToast("Cadastrado com sucesso!"),this.$router.push("/forms/tipoDespesas");else if(200==e.status)this.$refs.toast.createToast("Alterado com sucesso!");else if(500==e.status)this.$refs.toast.createToast(e.error);else{let t=e.response.data.fieldErrors;t.forEach((t=>{this.$refs.toast.createToast(`${t.message} `)}))}},async consultarUm(){void 0!=this.id&&(this.form=await this.service.buscarUm(this.id))}},mounted(){void 0!=this.id&&this.consultarUm()}};var g=s(89);const w=(0,g.Z)(v,[["render",c]]),$=w}}]);
//# sourceMappingURL=611.ae174be1.js.map