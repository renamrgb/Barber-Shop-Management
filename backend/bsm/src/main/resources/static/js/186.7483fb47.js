"use strict";(self["webpackChunkbsm"]=self["webpackChunkbsm"]||[]).push([[186],{1982:(t,a,e)=>{e.d(a,{Z:()=>r});var s=e(1505);class r{url="/paymentMethod";async consultarFormasPagamento(){try{const t=await s.Z.get(this.url);return t.data}catch(t){return t}}async getAllPaged(t){try{const a=await s.Z.get(`${this.url}/paged?page=${t}`);return a.data}catch(a){return a}}async cadastrar(t){try{const a=await s.Z.post(this.url,t);return a}catch(a){return a}}async excluir(t){try{const a=await s.Z["delete"](`${this.url}/${t}`);return a}catch(a){return a}}async alterar(t,a){try{const e=await s.Z.put(`${this.url}/${t}`,a);return e}catch(e){return e}}async buscarUmaformaDePagamento(t){try{const a=await s.Z.get(`${this.url}/${t}`);return a}catch(a){return a}}async getByDescription(t){try{const a=await s.Z.get(`${this.url}?description=${t}`);return a.data}catch(a){return a}}async getByDescriptionPaged(t,a){try{const e=await s.Z.get(`${this.url}/paged?description=${t}&page=${a}`);return e.data}catch(e){return e}}}},5066:(t,a,e)=>{e.d(a,{Z:()=>d});var s=e(3396),r=e(7139);function o(t,a,e,o,n,i){const c=(0,s.up)("CToastBody"),d=(0,s.up)("CToast"),l=(0,s.up)("CToaster");return(0,s.wg)(),(0,s.j4)(l,{placement:"top-end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.toasts,((t,a)=>((0,s.wg)(),(0,s.j4)(d,{key:a,color:n.color},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("b",null,(0,r.zw)(t.content),1)])),_:2},1024)])),_:2},1032,["color"])))),128))])),_:1})}const n={data(){return{toasts:[],color:"info"}},methods:{createToast(t){this.color="light",this.toasts.push({content:t})},createToastDanger(t){this.color="danger",this.toasts.push({content:t})},createToastWarning(t){this.color="warning",this.toasts.push({content:t})}}};var i=e(89);const c=(0,i.Z)(n,[["render",o]]),d=c},2186:(t,a,e)=>{e.r(a),e.d(a,{default:()=>f});var s=e(3396);const r=(0,s._)("strong",null,"Formas de Pagamento",-1),o={md:4},n={class:"mb-3"},i={class:"d-grid gap-2 d-md-flex justify-content-md-end"},c=(0,s._)("a",{class:"btn btn-danger",href:"/#/forms/forma-pagamento"},"Cancelar",-1);function d(t,a,e,d,l,u){const m=(0,s.up)("CCardHeader"),h=(0,s.up)("CFormLabel"),p=(0,s.up)("CFormInput"),f=(0,s.up)("CFormSwitch"),g=(0,s.up)("CButton"),w=(0,s.up)("CForm"),v=(0,s.up)("CCardBody"),y=(0,s.up)("CCard"),C=(0,s.up)("CCol"),$=(0,s.up)("CRow"),_=(0,s.up)("toast");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)($,null,{default:(0,s.w5)((()=>[(0,s.Wm)(C,{xs:12},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{class:"mb-4"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[r])),_:1}),(0,s.Wm)(v,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{class:"row g-3 needs-validation",novalidate:"",validated:l.validatedCustom},{default:(0,s.w5)((()=>[(0,s._)("div",o,[(0,s.Wm)(h,{for:"descricao"},{default:(0,s.w5)((()=>[(0,s.Uk)("* Descrição")])),_:1}),(0,s.Wm)(p,{id:"descricao",type:"text",placeholder:"Cartão de crédito",modelValue:l.descricao,"onUpdate:modelValue":a[0]||(a[0]=t=>l.descricao=t),modelModifiers:{lazy:!0},required:""},null,8,["modelValue"])]),(0,s._)("div",n,[(0,s.Wm)(f,{id:"formSwitchCheckDefault",label:"Ativo",modelValue:l.ativo,"onUpdate:modelValue":a[1]||(a[1]=t=>l.ativo=t)},null,8,["modelValue"])]),(0,s._)("div",i,[(0,s.Wm)(g,{color:"primary",class:"me-md-2",onClick:u.saveFormaPagamento},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirmar")])),_:1},8,["onClick"]),c])])),_:1},8,["validated"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(_,{ref:"toast"},null,512)],64)}var l=e(1982),u=e(5066);const m={components:{Toast:u.Z},name:"FormaPagamento",data(){return{id:this.$route.params.id,descricao:"",ativo:!1,fp:new l.Z,fps:"",validatedCustom:null}},methods:{async saveFormaPagamento(t){const a=t.currentTarget;let e,s={description:this.descricao,isActive:this.ativo};if(!1===a.checkValidity()&&(t.preventDefault(),t.stopPropagation()),this.validatedCustom=!0,e=void 0==this.id?await this.fp.cadastrar(s):await this.fp.alterar(this.id,s),201==e.status)this.$refs.toast.createToast("Cadastrado com sucesso!"),this.$router.push({path:"/forms/forma-pagamento"});else if(200==e.status)this.$refs.toast.createToast("Alterado com sucesso!");else{let t=e.response.data.fieldErrors;t.forEach((t=>{this.$refs.toast.createToast(`${t.message}`)}))}},async buscarFormaPagamento(){if(void 0!=this.id){let t=await this.fp.buscarUmaformaDePagamento(this.id);this.descricao=t.data.description,this.ativo=t.data.isActive}}},mounted(){console.log(this.id),void 0!=this.id&&this.buscarFormaPagamento()}};var h=e(89);const p=(0,h.Z)(m,[["render",d]]),f=p}}]);
//# sourceMappingURL=186.7483fb47.js.map