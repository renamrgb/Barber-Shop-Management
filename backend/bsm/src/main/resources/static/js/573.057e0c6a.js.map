{"version":3,"file":"js/573.057e0c6a.js","mappings":"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","sources":["webpack://bsm/./src/views/forms/Profissional.vue","webpack://bsm/./src/views/forms/Profissional.vue?c427"],"sourcesContent":["<template>\n  <CRow>\n    <CCol :xs=\"12\">\n      <CCard class=\"mb-4\">\n        <CCardHeader>\n          <strong>Profissionais</strong>\n        </CCardHeader>\n        <CCardBody>\n          <CForm>\n            <div class=\"mb-3\">\n              <CFormLabel for=\"nome\">* Nome</CFormLabel>\n              <CFormInput\n                name=\"nome\"\n                type=\"text\"\n                placeholder=\"\"\n                v-model=\"form.user.name\"\n              />\n              <div\n                v-if=\"v$.form.user.name.$errors.length > 0\"\n                class=\"invalid-input-form\"\n              >\n                {{ v$.form.user.name.$errors[0].$message }}\n              </div>\n            </div>\n            <div class=\"mb-3\">\n              <CFormLabel for=\"email\">* E-mail</CFormLabel>\n              <CFormInput\n                name=\"email\"\n                type=\"email\"\n                placeholder=\"exemplo@gmail.com\"\n                v-model=\"form.user.email\"\n              />\n              <div\n                v-if=\"v$.form.user.email.$errors.length > 0\"\n                class=\"invalid-input-form\"\n              >\n                {{ v$.form.user.email.$errors[0].$message }}\n              </div>\n            </div>\n            <PasswordForUserVue\n              :passwordProps=\"this.form.user.password\"\n              ref=\"passwordForUser\"\n            />\n            <div class=\"row mb-3\">\n              <div class=\"row mb-3\">\n                <DocumentForUser\n                  ref=\"documentForUser\"\n                  :typePersonProps=\"this.form.user.typePerson\"\n                  :documentProps=\"this.form.user.document\"\n                  :rgProps=\"this.form.user.rg\"\n                />\n              </div>\n            </div>\n            <div class=\"mb-3\">\n              <CFormLabel for=\"telefone\">* Telefone / Celular</CFormLabel>\n              <input\n                name=\"telefone\"\n                type=\"tel\"\n                class=\"form-control\"\n                v-mask=\"['(##) #####-####']\"\n                v-model=\"form.user.phoneNumber\"\n              />\n              <div\n                v-if=\"v$.form.user.phoneNumber.$errors.length > 0\"\n                class=\"invalid-input-form\"\n              >\n                {{ v$.form.user.phoneNumber.$errors[0].$message }}\n              </div>\n            </div>\n            <div class=\"mb-3\">\n              <CFormLabel for=\"procedure\"\n                >* Procedimentos que o profissional realiza</CFormLabel\n              >\n              <Multiselect\n                v-model=\"value\"\n                label=\"description\"\n                trackBy=\"description\"\n                :options=\"options\"\n                :searchable=\"true\"\n                mode=\"tags\"\n                @input=\"teste()\"\n              >\n              </Multiselect>\n            </div>\n            <AddressForUser\n              ref=\"addressForUser\"\n              :addressProps=\"this.form.user.address\"\n            />\n            <div class=\"mb-3\">\n              <br />\n              <CFormSwitch\n                name=\"formSwitchCheckDefault\"\n                label=\"Ativo\"\n                v-model=\"form.user.isActive\"\n              />\n            </div>\n            <div class=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n              <CButton color=\"primary\" class=\"me-md-2\" @click=\"submitForm\"\n                >Confirmar</CButton\n              >\n              <a href=\"/#/forms/profissional\" class=\"btn btn-danger\"\n                >Cancelar</a\n              >\n            </div>\n          </CForm>\n        </CCardBody>\n      </CCard>\n    </CCol>\n  </CRow>\n  <toast ref=\"toast\" />\n</template>\n\n<script>\nimport { useVuelidate } from \"@vuelidate/core\";\nimport ValidationsMessage from \"@/util/ValidationsMessage.js\";\nimport Service from \"@/Services/profissionalService.js\";\nimport ProcedimentoService from \"@/Services/procedimentoService.js\";\nimport AddressService from \"@/Services/addressService.js\";\nimport Toast from \"@/components/Toast.vue\";\nimport Multiselect from \"@vueform/multiselect/src/Multiselect\";\nimport DocumentForUser from \"@/components/DocumentForUser.vue\";\nimport AddressForUser from \"@/components/AddressForUser.vue\";\nimport PasswordForUserVue from \"@/components/PasswordForUser.vue\";\nexport default {\n  components: {\n    Toast,\n    Multiselect,\n    DocumentForUser,\n    AddressForUser,\n    PasswordForUserVue,\n  },\n  name: \"Profissional\",\n  data() {\n    return {\n      v$: useVuelidate(),\n      validationsMessage: new ValidationsMessage(),\n      id: this.$route.params.id,\n      service: new Service(),\n      procedimentoService: new ProcedimentoService(),\n      addressService: new AddressService(),\n      form: {\n        user: {\n          name: \"\",\n          email: \"\",\n          password: \"\",\n          phoneNumber: \"\",\n          typePerson: \"\",\n          document: \"\",\n          rg: \"\",\n          address: {\n            zipCode: \"\",\n            publicPlace: \"\",\n            neighborhood: \"\",\n            complement: \"\",\n            city: \"\",\n            state: \"\",\n          },\n          nivelAcesso: {\n            authority: \"ROLE_ADMIN\",\n          },\n          isActive: false,\n        },\n        procedures: [],\n      },\n      value: [],\n      options: [],\n    };\n  },\n  validations() {\n    return {\n      form: {\n        user: {\n          name: {\n            required: this.validationsMessage.requiredMessage,\n            maxLength: this.validationsMessage.maxLengthMenssage(100),\n          },\n          email: {\n            required: this.validationsMessage.requiredMessage,\n            maxLength: this.validationsMessage.maxLengthMenssage(100),\n            email: this.validationsMessage.emailMessage,\n          },\n          phoneNumber: {\n            required: this.validationsMessage.requiredMessage,\n            maxLength: this.validationsMessage.maxLengthMenssage(15),\n          },\n        },\n      },\n    };\n  },\n  methods: {\n    submitForm() {\n      this.$refs.passwordForUser.setPasswordNotUpdate();\n      this.v$.$validate();\n      if (\n        !this.v$.$error &&\n        !this.$refs.passwordForUser.btnChangePassword &&\n        this.$refs.passwordForUser.isValid()\n      ) {\n        this.salvar();\n      } else if (\n        !this.v$.$error &&\n        this.$refs.passwordForUser.btnChangePassword\n      ) {\n        this.salvar();\n      }\n    },\n    async salvar() {\n      this.form.user.address = this.$refs.addressForUser.address;\n      this.form.user.document = this.$refs.documentForUser.document;\n      this.form.user.rg = this.$refs.documentForUser.rg;\n      this.form.user.typePerson = this.$refs.documentForUser.typePerson;\n      this.form.user.address = this.$refs.addressForUser.address;\n      this.form.user.password = this.$refs.passwordForUser.password;\n\n      this.value.forEach((element) => {\n        this.form.procedures.push({ id: element });\n      });\n\n      let res = undefined;\n      if (this.id == undefined) {\n        res = await this.service.cadastrar(this.form);\n      } else {\n        this.form.password = \"\";\n        res = await this.service.alterar(this.id, this.form);\n      }\n      console.log(res);\n      if (res.status == 201) {\n        this.$refs.toast.createToast(\"Cadastrado com sucesso!\");\n        this.$router.push(\"/forms/profissional\");\n      } else if (res.status == 200) {\n        this.$refs.toast.createToast(\"Alterado com sucesso!\");\n      } else {\n        let vetErros = res.response.data.fieldErrors;\n        vetErros.forEach((element) => {\n          this.$refs.toast.createToast(\n            `[${element.fieldName}] ${element.message}`\n          );\n        });\n      }\n    },\n    async consultarUm() {\n      if (this.id != undefined) {\n        this.form.user = await this.service.buscarUm(this.id);        \n        for (const element of this.form.user.procedures) {\n          this.value.push(element.id);\n        }        \n        this.$refs.documentForUser.typePerson = this.form.user.typePerson;\n        this.$refs.documentForUser.document = this.form.user.document;\n        this.$refs.documentForUser.rg = this.form.user.rg;\n        this.$refs.addressForUser.address = this.form.user.address;\n        this.$refs.addressForUser.change = true;\n        this.$refs.passwordForUser.password = this.form.user.password;\n      }\n    },\n    async carregarSelectProcedimentos() {\n      const RES = await this.procedimentoService.consultarTodos();\n      for(const E of RES){\n        this.options.push({\n          value: E.id,\n          description: E.description,\n        });\n      }\n    },    \n    teste() {\n      console.log(this.value);\n    },\n  },\n  mounted() {\n    this.carregarSelectProcedimentos();\n    if (this.id != undefined) {\n      this.consultarUm();\n      this.$refs.passwordForUser.btnChangePassword = true;\n    }\n  },\n};\n</script>\n<style src=\"@vueform/multiselect/themes/default.css\"></style>\n","import { render } from \"./Profissional.vue?vue&type=template&id=a174098c\"\nimport script from \"./Profissional.vue?vue&type=script&lang=js\"\nexport * from \"./Profissional.vue?vue&type=script&lang=js\"\n\nimport \"@vueform/multiselect/themes/default.css?vue&type=style&index=0&lang=css\"\n\nimport exportComponent from \"D:\\\\bsm\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","href","_createVNode","_component_CRow","_component_CCol","xs","_component_CCard","_component_CCardHeader","_hoisted_1","_component_CCardBody","_component_CForm","_hoisted_2","_component_CFormLabel","for","_component_CFormInput","name","type","placeholder","$data","user","form","$errors","length","_createElementBlock","_hoisted_3","$message","_hoisted_4","email","_hoisted_5","_component_PasswordForUserVue","passwordProps","password","ref","_hoisted_6","_hoisted_7","_component_DocumentForUser","typePersonProps","typePerson","documentProps","document","rgProps","rg","_hoisted_8","phoneNumber","_hoisted_9","_hoisted_10","_component_Multiselect","label","trackBy","options","searchable","mode","onInput","$options","_component_AddressForUser","addressProps","address","_hoisted_11","_hoisted_12","_component_CFormSwitch","isActive","_hoisted_13","_component_CButton","color","onClick","_hoisted_14","_component_toast","components","Toast","Multiselect","DocumentForUser","AddressForUser","PasswordForUserVue","data","v$","useVuelidate","validationsMessage","ValidationsMessage","id","this","$route","params","service","Service","procedimentoService","ProcedimentoService","addressService","AddressService","zipCode","publicPlace","neighborhood","complement","city","state","nivelAcesso","authority","procedures","value","validations","required","requiredMessage","maxLength","maxLengthMenssage","emailMessage","methods","submitForm","$refs","passwordForUser","setPasswordNotUpdate","$validate","$error","btnChangePassword","isValid","salvar","async","res","addressForUser","documentForUser","forEach","element","push","undefined","cadastrar","alterar","console","log","status","toast","createToast","$router","vetErros","response","fieldErrors","fieldName","message","buscarUm","change","RES","consultarTodos","E","description","teste","mounted","carregarSelectProcedimentos","consultarUm","__exports__","render"],"sourceRoot":""}