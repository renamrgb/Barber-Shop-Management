"use strict";(self["webpackChunkbsm"]=self["webpackChunkbsm"]||[]).push([[158],{5459:(e,a,t)=>{t.d(a,{Z:()=>l});var r=t(1505);class l{url="/address";async getAddressByCep(e){try{e=e.replace("-","");const a=await r.Z.get(`${this.url}/${e}`);return a.data}catch(a){return a}}}},1466:(e,a,t)=>{t.d(a,{Z:()=>l});var r=t(1505);class l{url="/parameters";async getParamerter(){try{const e=await r.Z.get(`${this.url}/1`);return e.data}catch(e){return e}}async save(e){try{const a=await r.Z.put(`${this.url}/1`,e);return a.data}catch(a){return a}}async consultWorkSchedules(){try{const e=await r.Z.get(`${this.url}/1`);return e.data.parameterValues}catch(e){return e}}async getMaxPointsCard(){try{const e=await r.Z.get(`${this.url}/1`),a=e.data.parameterValues;for(let t of a)if("QTY_LOYALYTY_CARD"==t.parameter_key)return parseInt(t.parameter_value)}catch(e){return e}}async getParamerterKey(e){try{const a=await r.Z.get(`${this.url}/findByKey?pameterKey=${e}`);return a.data}catch(a){return a}}}},1299:(e,a,t)=>{t.d(a,{Z:()=>W});var r=t(3396),l=t(9242);const s={id:"getAddres"},d={class:"row"},o={class:"row g-4 mb-3"},n={class:"col-md-2"},m={key:0,id:"addres"},u={class:"row g-4 mb-3"},i={class:"col"},c={class:"row g-4 mb-3"},p={class:"col"},_={class:"col"},w={class:"col"},g={class:"col-md-2"};function f(e,a,t,f,h,y){const C=(0,r.up)("CFormLabel"),v=(0,r.up)("CFormInput"),W=(0,r.Q2)("mask");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",s,[(0,r._)("div",d,[(0,r.Wm)(C,{for:"cep"},{default:(0,r.w5)((()=>[(0,r.Uk)("CEP")])),_:1})]),(0,r._)("div",o,[(0,r._)("div",n,[(0,r.wy)((0,r._)("input",{name:"cep",type:"text",class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>h.address.zipCode=e),onInput:a[1]||(a[1]=e=>y.getAddressByCep())},null,544),[[W,"#####-###"],[l.nr,h.address.zipCode]])])])]),1==this.consultedZipCode?((0,r.wg)(),(0,r.iD)("div",m,[(0,r._)("div",u,[(0,r._)("div",i,[(0,r.Wm)(C,{for:"descricao"},{default:(0,r.w5)((()=>[(0,r.Uk)("Logradouro")])),_:1}),(0,r.Wm)(v,{name:"quantidade",type:"logradouro",placeholder:"Rua...",modelValue:h.address.publicPlace,"onUpdate:modelValue":a[2]||(a[2]=e=>h.address.publicPlace=e)},null,8,["modelValue"])])]),(0,r._)("div",c,[(0,r._)("div",p,[(0,r.Wm)(C,{for:"cep"},{default:(0,r.w5)((()=>[(0,r.Uk)("Bairro")])),_:1}),(0,r.Wm)(v,{name:"bairro",type:"text",placeholder:"Centro",modelValue:h.address.neighborhood,"onUpdate:modelValue":a[3]||(a[3]=e=>h.address.neighborhood=e)},null,8,["modelValue"])]),(0,r._)("div",_,[(0,r.Wm)(C,{for:"complemento"},{default:(0,r.w5)((()=>[(0,r.Uk)("Complemento")])),_:1}),(0,r.Wm)(v,{name:"complemento",type:"complemento",placeholder:"",modelValue:h.address.complement,"onUpdate:modelValue":a[4]||(a[4]=e=>h.address.complement=e)},null,8,["modelValue"])]),(0,r._)("div",w,[(0,r.Wm)(C,{for:"cidade"},{default:(0,r.w5)((()=>[(0,r.Uk)("Cidade")])),_:1}),(0,r.Wm)(v,{name:"cidade",modelValue:h.address.city,"onUpdate:modelValue":a[5]||(a[5]=e=>h.address.city=e),disabled:""},null,8,["modelValue"])]),(0,r._)("div",g,[(0,r.Wm)(C,{for:"uf"},{default:(0,r.w5)((()=>[(0,r.Uk)("UF")])),_:1}),(0,r.wy)((0,r._)("input",{name:"uf",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=e=>h.address.state=e),max:"2",disabled:""},null,512),[[l.nr,h.address.state]])])])])):(0,r.kq)("",!0)],64)}var h=t(5459);const y={name:"AddressForUser",data(){return{addressService:new h.Z,change:!1,consultedZipCode:"",address:{zipCode:"",publicPlace:"",neighborhood:"",complement:"",city:"",state:""}}},methods:{async getAddressByCep(){9!=this.address.zipCode.length||this.change?0==this.address.zipCode.length?this.change=!1:this.change&&(this.consultedZipCode=!0):(this.address=await this.addressService.getAddressByCep(this.address.zipCode),this.consultedZipCode=!0)}}};var C=t(89);const v=(0,C.Z)(y,[["render",f]]),W=v},1158:(e,a,t)=>{t.r(a),t.d(a,{default:()=>V});var r=t(3396),l=t(9242),s=t(7139);const d=(0,r._)("strong",null,"Parâmetros",-1),o=(0,r._)("strong",null,"Organização",-1),n={class:"row mb-3"},m={class:"col"},u={class:"row mb-3"},i={class:"col"},c=(0,r._)("strong",null,"Endereço",-1),p=(0,r._)("strong",null,"Parametros",-1),_={class:"col"},w=["name","type","onUpdate:modelValue"],g={class:"d-grid gap-2 d-md-flex justify-content-md-end"};function f(e,a,t,f,h,y){const C=(0,r.up)("CCardHeader"),v=(0,r.up)("CFormLabel"),W=(0,r.up)("CFormInput"),k=(0,r.up)("AddressForUser"),U=(0,r.up)("CCardBody"),b=(0,r.up)("CCard"),V=(0,r.up)("CForm"),Y=(0,r.up)("CInputGroupText"),Z=(0,r.up)("CInputGroup"),A=(0,r.up)("CButton"),z=(0,r.up)("CCol"),L=(0,r.up)("CRow"),D=(0,r.up)("toast"),P=(0,r.Q2)("mask");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(L,null,{default:(0,r.w5)((()=>[(0,r.Wm)(z,{xs:12},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{class:"mb-4"},{default:(0,r.w5)((()=>[(0,r.Wm)(C,null,{default:(0,r.w5)((()=>[d])),_:1}),(0,r.Wm)(U,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b,{class:"mb-4"},{default:(0,r.w5)((()=>[(0,r.Wm)(C,null,{default:(0,r.w5)((()=>[o])),_:1}),(0,r.Wm)(U,null,{default:(0,r.w5)((()=>[(0,r.Wm)(V,null,{default:(0,r.w5)((()=>[(0,r._)("div",n,[(0,r._)("div",m,[(0,r.Wm)(v,{for:"nome"},{default:(0,r.w5)((()=>[(0,r.Uk)("* Razão Social")])),_:1}),(0,r.Wm)(W,{name:"nome",type:"text",placeholder:"",modelValue:h.parameter.organization.name,"onUpdate:modelValue":a[0]||(a[0]=e=>h.parameter.organization.name=e)},null,8,["modelValue"])])]),(0,r._)("div",u,[(0,r._)("div",i,[(0,r.Wm)(v,{for:"nome"},{default:(0,r.w5)((()=>[(0,r.Uk)("* CNPJ")])),_:1}),(0,r.wy)((0,r._)("input",{name:"nome",type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>h.parameter.organization.cnpj=e)},null,512),[[l.nr,h.parameter.organization.cnpj],[P,"##.###.###/####-##"]])])]),(0,r.Wm)(b,{class:"mb-4"},{default:(0,r.w5)((()=>[(0,r.Wm)(C,null,{default:(0,r.w5)((()=>[c])),_:1}),(0,r.Wm)(U,null,{default:(0,r.w5)((()=>[(0,r.Wm)(k,{ref:"addressForUser"},null,512)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.Wm)(b,{class:"mb-4"},{default:(0,r.w5)((()=>[(0,r.Wm)(C,null,{default:(0,r.w5)((()=>[p])),_:1}),(0,r.Wm)(U,null,{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.parameter.parameterValues,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"row mb-3",key:e.id},[(0,r._)("div",_,[(0,r.Wm)(v,{for:"nome"},{default:(0,r.w5)((()=>[(0,r.Uk)("* "+(0,s.zw)(e.parameter_name),1)])),_:2},1024),"DISCOUNT_LOYALYTY_CARD"!=e.parameter_key?(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{key:0,name:e.parameter_key,type:y.type(e),class:"form-control","onUpdate:modelValue":a=>e.parameter_value=a},null,8,w)),[[l.YZ,e.parameter_value]]):(0,r.kq)("",!0),"DISCOUNT_LOYALYTY_CARD"==e.parameter_key?((0,r.wg)(),(0,r.j4)(Z,{key:1,class:"mb-1"},{default:(0,r.w5)((()=>[(0,r.Wm)(Y,null,{default:(0,r.w5)((()=>[(0,r.Uk)("R$")])),_:1}),(0,r.Wm)(W,{modelValue:e.parameter_value,"onUpdate:modelValue":a=>e.parameter_value=a,modelModifiers:{lazy:!0}},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)):(0,r.kq)("",!0)])])))),128))])),_:1})])),_:1}),(0,r._)("div",g,[(0,r.Wm)(A,{color:"primary",class:"me-md-2",onClick:y.save},{default:(0,r.w5)((()=>[(0,r.Uk)("Confirmar")])),_:1},8,["onClick"])])])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.Wm)(D,{ref:"toast"},null,512)],64)}var h=t(3053),y=t(7829),C=t(1466),v=t(5066),W=t(1299);const k={components:{Toast:v.Z,AddressForUser:W.Z},name:"Parameters",data(){return{v$:(0,h.Xw)(),validationsMessage:new y.Z,id:this.$route.params.id,service:new C.Z,parameter:{organization:{name:"",cnpj:""}}}},validations(){return{parameter:{organization:{name:{required:this.validationsMessage.requiredMessage,maxLength:this.validationsMessage.maxLengthMenssage(100)}}}}},methods:{type(e){return"QTY_LOYALYTY_CARD"==e.parameter_key?"number":"DISCOUNT_LOYALYTY_CARD"==e.parameter_key?"text":"time"},submitForm(){},async getParameter(){this.parameter=await this.service.getParamerter()},async save(){let e=await this.service.save(this.parameter);console.log(e)}},mounted(){this.getParameter()}};var U=t(89);const b=(0,U.Z)(k,[["render",f]]),V=b}}]);
//# sourceMappingURL=158.26bfd596.js.map